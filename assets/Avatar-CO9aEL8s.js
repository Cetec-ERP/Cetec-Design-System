import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as m}from"./index-BCtMShv3.js";import{m as E,b as P,d as V,e as C,g as L,s as R,B as i,a as p,c as t}from"./Box-Do4kfhe3.js";import{I as o}from"./Icon-DZeLJqXX.js";const _={size:"md",shape:"circle"},B=[],F=[["root","avatar__root"],["image","avatar__image"],["fallback","avatar__fallback"],["presence","avatar__presence"],["status","avatar__status"]],K=F.map(([a,e])=>[a,C(e,_,L(B,a))]),M=E((a={})=>Object.fromEntries(K.map(([e,r])=>[e,r.recipeFn(a)]))),y=["size","shape"],O=a=>({..._,...P(a)}),D=Object.assign(M,{__recipe__:!1,__name__:"avatar",raw:a=>a,classNameMap:{},variantKeys:y,variantMap:{size:["xs","sm","md","lg","xl","2xl"],shape:["circle","square","hexagon"]},splitVariantProps(a){return V(a,y)},getVariantProps:O}),U={online:t({bg:"bg.success.bold"}),busy:t({bg:"bg.danger.bold"}),offline:t({bg:"bg.accent.neutral"}),focus:t({bg:"bg.neutral.bold"})},$={approved:t({bg:"bg.success.bold",fill:"icon.inverse"}),declined:t({bg:"bg.danger.bold",fill:"icon.inverse"}),locked:t({bg:"bg.neutral.bold",fill:"icon.inverse"})},G={xs:"8",sm:"10",md:"12",lg:"14",xl:"16","2xl":"20"};function H(a){const e=a.trim().split(/\s+/);if(e.length===0||!e[0])return"";if(e.length===1)return e[0].charAt(0);const r=e[e.length-1];return e[0].charAt(0)+(r?r.charAt(0):"")}const z=a=>{const{src:e,alt:r="",name:d,size:S="md",shape:j="circle",presence:u,status:n,fallback:k,borderColor:f,ref:q,...N}=a,[T,A]=R(N),[I,g]=m.useState(!1),[v,b]=m.useState(!1);m.useEffect(()=>{g(!1),b(!1)},[e]);const x=S,l=D({size:x,shape:j}),h=e&&!I,w=d?H(d):null,c=G[x];return s.jsxs(i,{as:"span",ref:q,className:p(l.root,T),style:f?{borderColor:f}:void 0,...A,children:[h&&s.jsx(i,{as:"img",src:e,alt:r,className:l.image,onError:()=>g(!0),onLoad:()=>b(!0),style:{opacity:v?1:0}}),(!h||!v)&&s.jsx(i,{as:"span",className:l.fallback,children:k||w||s.jsx(o,{name:"user"})}),u&&s.jsx(i,{as:"span",className:p(l.presence,U[u])}),n&&s.jsxs(i,{as:"span",className:p(l.status,$[n]),children:[n==="approved"&&s.jsx(o,{name:"check",size:c}),n==="declined"&&s.jsx(o,{name:"x",size:c}),n==="locked"&&s.jsx(o,{name:"lock",size:c})]})]})};z.displayName="Avatar";z.__docgenInfo={description:`Avatar component for displaying user or entity images with optional
presence and status indicators.`,methods:[],displayName:"Avatar",props:{src:{required:!1,tsType:{name:"string"},description:"Image source URL"},alt:{required:!1,tsType:{name:"string"},description:"Alt text for image"},name:{required:!1,tsType:{name:"string"},description:"Name for generating initials fallback"},size:{required:!1,tsType:{name:"union",raw:"'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'",elements:[{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'xl'"},{name:"literal",value:"'2xl'"}]},description:"Size of the avatar"},shape:{required:!1,tsType:{name:"union",raw:"'circle' | 'square' | 'hexagon'",elements:[{name:"literal",value:"'circle'"},{name:"literal",value:"'square'"},{name:"literal",value:"'hexagon'"}]},description:"Shape of the avatar"},presence:{required:!1,tsType:{name:"union",raw:"'online' | 'busy' | 'offline' | 'focus'",elements:[{name:"literal",value:"'online'"},{name:"literal",value:"'busy'"},{name:"literal",value:"'offline'"},{name:"literal",value:"'focus'"}]},description:"Presence indicator (bottom-right)"},status:{required:!1,tsType:{name:"union",raw:"'approved' | 'declined' | 'locked'",elements:[{name:"literal",value:"'approved'"},{name:"literal",value:"'declined'"},{name:"literal",value:"'locked'"}]},description:"Status indicator (top-right)"},fallback:{required:!1,tsType:{name:"ReactNode"},description:"Custom fallback content (overrides initials)"},borderColor:{required:!1,tsType:{name:"string"},description:"Border color for the avatar"}}};export{z as A};
