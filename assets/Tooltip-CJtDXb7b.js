import{j as p}from"./jsx-runtime-D_zvdyIk.js";import{m as B,b as F,d as K,e as D,g as I,B as _}from"./Box-Do4kfhe3.js";import{r as a}from"./index-BCtMShv3.js";import{T as E}from"./Text--rQhgAhG.js";const j={position:"bottom"},A=[{position:["top","top-start","top-end"],caret:!0,css:{tooltipContent:{mb:"12"}}},{position:["top","top-start","top-end"],caret:!1,css:{tooltipContent:{mb:"8"}}},{position:["bottom","bottom-start","bottom-end"],caret:!0,css:{tooltipContent:{mt:"12"}}},{position:["bottom","bottom-start","bottom-end"],caret:!1,css:{tooltipContent:{mt:"8"}}},{position:["left","left-start","left-end"],caret:!0,css:{tooltipContent:{mr:"12"}}},{position:["left","left-start","left-end"],caret:!1,css:{tooltipContent:{mr:"8"}}},{position:["right","right-start","right-end"],caret:!0,css:{tooltipContent:{ml:"12"}}},{position:["right","right-start","right-end"],caret:!1,css:{tooltipContent:{ml:"8"}}}],G=[["wrapper","tooltip__wrapper"],["tooltipContent","tooltip__tooltipContent"]],J=G.map(([e,r])=>[e,D(r,j,I(A,e))]),Q=B((e={})=>Object.fromEntries(J.map(([r,f])=>[r,f.recipeFn(e)]))),P=["position","caret"],U=e=>({...j,...F(e)}),X=Object.assign(Q,{__recipe__:!1,__name__:"tooltip",raw:e=>e,classNameMap:{},variantKeys:P,variantMap:{position:["top","bottom","left","right","top-start","bottom-start","left-start","right-start","top-end","bottom-end","left-end","right-end"],caret:["true","false"]},splitVariantProps(e){return K(e,P)},getVariantProps:U}),Y=({trigger:e="onHover",caret:r=!0,text:f,title:x,children:S,position:m="bottom",...V})=>{const[y,k]=a.useState(m),{wrapper:L,tooltipContent:M}=X({position:y,caret:r}),[b,i]=a.useState(!1),c=a.useRef(null),u=a.useRef(null),h=typeof m=="string"?m:"bottom",d=["bottom","bottom-start","bottom-end","left","left-start","left-end","top","top-start","top-end","right","right-start","right-end"];function T(t){const o=d.indexOf(t);return o===-1?d:[...d.slice(o+1),...d.slice(0,o)]}const C=()=>{const t=c.current,o=u.current;if(!t||!o)return;const n=o.getBoundingClientRect(),v=T(h);for(const w of[h,...v]){const s=N(n,t.offsetWidth,t.offsetHeight,w);if(s.top>=0&&s.left>=0&&s.bottom<=window.innerHeight&&s.right<=window.innerWidth){k(w);return}}k(h)};function N(t,o,n,v){const s=t.left+t.width/2-o/2,l=t.top+t.height/2-n/2;switch(v){case"top":return{top:t.top-n-8,bottom:t.top-8,left:s,right:s+o};case"top-start":return{top:t.top-n-8,bottom:t.top-8,left:t.left,right:t.left+o};case"top-end":return{top:t.top-n-8,bottom:t.top-8,left:t.right-o,right:t.right};case"bottom":return{top:t.bottom+8,bottom:t.bottom+n+8,left:s,right:s+o};case"bottom-start":return{top:t.bottom+8,bottom:t.bottom+8+n,left:t.left,right:t.left+o};case"bottom-end":return{top:t.bottom+8,bottom:t.bottom+8+n,left:t.right-o,right:t.right};case"left":return{top:l,bottom:l+n,left:t.left-o-8,right:t.left-8};case"left-start":return{top:t.top,bottom:t.top+n,left:t.left-o-8,right:t.left-8};case"left-end":return{top:t.bottom-n,bottom:t.bottom,left:t.left-o-8,right:t.left-8};case"right":return{top:l,bottom:l+n,left:t.right+8,right:t.right+8+o};case"right-start":return{top:t.top,bottom:t.top+n,left:t.right+8,right:t.right+8+o};case"right-end":return{top:t.bottom-n,bottom:t.bottom,left:t.right+8,right:t.right+8+o};default:return{top:0,bottom:0,left:0,right:0}}}a.useEffect(()=>{if(b)return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[b,m]),a.useEffect(()=>{if(e!=="onClick")return;const t=o=>{c.current&&!c.current.contains(o.target)&&u.current&&!u.current.contains(o.target)&&i(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[e]);const O=()=>{e==="onHover"&&i(!0)},q=()=>{e==="onHover"&&i(!1)},z=()=>{e==="onClick"&&i(t=>!t)};return p.jsxs(_,{...V,className:L,children:[p.jsx(_,{ref:u,onMouseEnter:e==="onHover"?O:void 0,onMouseLeave:e==="onHover"?q:void 0,onClick:e==="onClick"?z:void 0,children:S}),b&&p.jsxs(_,{className:M,ref:c,children:[x&&p.jsx(E,{as:"p",textStyle:"body.md",bold:!0,color:{base:"slate.0",_dark:"slate.90"},children:x}),f&&p.jsx(E,{as:"span",textStyle:"body.sm",color:{base:"slate.0",_dark:"slate.90"},children:f})]})]})};Y.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{trigger:{defaultValue:{value:"'onHover'",computed:!1},required:!1},caret:{defaultValue:{value:"true",computed:!1},required:!1},position:{defaultValue:{value:"'bottom'",computed:!1},required:!1}}};export{Y as T};
